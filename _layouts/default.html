<!DOCTYPE html>
<html lang="en" class="language-cn">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">

		{% seo %}

		<link rel="stylesheet" href="{{ site.baseurl }}/css/style.css">
		<link rel="icon" type="image/png" href="/favicon.ico">

		{% if jekyll.environment == 'production' and site.google_analytics_key != '' %}
			<script>
				window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
				ga('create', '{{ site.google_analytics_key }}', 'auto');
				ga('send', 'pageview');
			</script>
			<script async src='https://www.google-analytics.com/analytics.js'></script>
		{% endif %}

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
		<script src="{{ site.baseurl }}/js/main.js"></script>
	</head>
	<body>

	<header>
		<h1>
			<button type="button" class="open-nav" id="open-nav"></button>
			<a href="{{ site.baseurl }}/"><img src="{{ site.baseurl }}/images/logo.svg" height="40" alt="{{ site.title }} logo"></a>
		</h1>

		<form action="{{ site.baseurl }}/search/" method="get">
			<input type="text" name="q" id="search-input" placeholder="Search">
			<input type="submit" value="Search" style="display: none;">
		</form>
		<div id="spot_sidebar">
			<div class="sidebar_en">{% include sidebar_en.html %}</div>
			<div class="sidebar_cn">{% include sidebar_cn.html %}</div>
		</div>
		<div id="futures_sidebar">
			<div class="sidebar_en">{% include futures_sidebar_en.html %}</div>
			<div class="sidebar_cn">{% include futures_sidebar_cn.html %}</div>
		</div>
		<div id="third_party_sidebar">
			<div class="sidebar_en">{% include third_party_sidebar_en.html %}</div>
			<div class="sidebar_cn">{% include third_party_sidebar_cn.html %}</div>
		</div>
	</header>

		<div class="main">
			<div class="i18nHead">
        <div class="i18nButton" id="cn">简体中文</div>
				<div class="i18nButton" id="en">english</div>
			</div>
			<div class="trade-type-select" id="trade_type_en">
				<a style="cursor:pointer;" class="active-type show_spot" >Spot</a>
				<a style="cursor:pointer;" class="show_futures">Futures</a>
				<a style="cursor:pointer;" class="show_third_party">Third Party</a>
			</div>
			<div class="trade-type-select" id="trade_type_cn">
				<a style="cursor:pointer;" class="active-type show_spot">现货</a>
				<a style="cursor:pointer;" class="show_futures">合约</a>
				<a style="cursor:pointer;" class="show_third_party">第三方平台</a>
			</div>
      <div id="content" style="margin-top: 40px;">
			    {{ content }}
      </div>
		</div>
		<script>
			document.getElementById("open-nav").addEventListener("click", function () {
				document.body.classList.toggle("nav-open");
			});

			//默认显示语言
			window.lang = "en";
			//默认展示模块
			var model = "spot";

			var query = window.location.toString();
			//有锚点定位
			if(query.indexOf("#")>0){
				var anchorPoint = query.split("#")[1];
				//合约
				if(anchorPoint.indexOf("futures_")==0){
					model= "futures";
					if(anchorPoint.indexOf("_cn")>0){
						window.lang = "cn";
					}else {
						window.lang = "en";
					}
				}else if(anchorPoint.indexOf("third_party_")==0) {//第三方
					model= "third_party";
					if(anchorPoint.indexOf("_cn")>0){
						window.lang = "cn";
					}else {
						window.lang = "en";
					}
				}else {//现货
					model= "spot";
					if(anchorPoint.indexOf("_cn")>0){
						window.lang = "cn";
					}else {
						window.lang = "en";
					}
				}
			}

			if(model=="spot"){
				showSpot();
			}else if(model == "futures"){
				showFutures();
			}else {
				showThirdParty();
			}
			if(window.lang=="en"){
				showEN();
			}else {
				showCN();
			}

			//展示现货
			function showSpot(){
				$("#spot_content").show();
				$("#spot_search").show();
				$("#spot_sidebar").show();
				$("#futures_content").hide();
				$("#futures_search").hide();
				$("#futures_sidebar").hide();
				$("#third_party_content").hide();
				$("#third_party_search").hide();
				$("#third_party_sidebar").hide();
				$(".show_spot").addClass("active-type");
				$(".show_futures").removeClass("active-type");
				$(".show_third_party").removeClass("active-type");
			}

			//展示合约
			function showFutures(){
				$("#spot_content").hide();
				$("#spot_search").hide();
				$("#spot_sidebar").hide();
				$("#futures_content").show();
				$("#futures_search").show();
				$("#futures_sidebar").show();
				$("#third_party_content").hide();
				$("#third_party_search").hide();
				$("#third_party_sidebar").hide();
				$(".show_futures").addClass("active-type");
				$(".show_spot").removeClass("active-type");
				$(".show_third_party").removeClass("active-type");
			}


			//展示第三方平台
			function showThirdParty(){
				$("#spot_content").hide();
				$("#spot_search").hide();
				$("#spot_sidebar").hide();
				$("#futures_content").hide();
				$("#futures_search").hide();
				$("#futures_sidebar").hide();
				$("#third_party_content").show();
				$("#third_party_search").show();
				$("#third_party_sidebar").show();
				$(".show_third_party").addClass("active-type");
				$(".show_spot").removeClass("active-type");
				$(".show_futures").removeClass("active-type");
			}

			//展示中文
			function showCN(){
				window.lang = "cn";
				$("#en").show();
				$("#cn").hide();
				$(".sidebar_cn").show();
				$(".sidebar_en").hide();
				$(".index_cn").show();
				$(".index_en").hide();
				$("#trade_type_cn").show();
				$("#trade_type_en").hide();
			}

			//展示英文
			function showEN(){
				window.lang = "en";
				$("#cn").show();
				$("#en").hide();
				$(".sidebar_en").show();
				$(".sidebar_cn").hide();
				$(".index_en").show();
				$(".index_cn").hide();
				$("#trade_type_en").show();
				$("#trade_type_cn").hide();
			}

			// 展示现货
			$(".show_spot").click(function (){
				showSpot();
			});
			// 展示合约
			$(".show_futures").click(function (){
				showFutures();
			});

			// 展示合约
			$(".show_third_party").click(function (){
				showThirdParty();
			});

			$("#cn").click(function () {
				showCN();
			})

			$("#en").click(function () {
				showEN();
			})
        </script>
	</body>
</html>
